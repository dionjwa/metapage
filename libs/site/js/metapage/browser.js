!function(t,e){for(var n in e)t[n]=e[n]}(window,function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){t.exports=g,g.Minimatch=d;var r={sep:"/"};try{r=n(4)}catch(t){}var i=g.GLOBSTAR=d.GLOBSTAR={},s=n(6),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},o="[^/]",u=o+"*?",l="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",c="(?:(?!(?:\\/|^)\\.).)*?",f="().*{}+?[]^$\\!".split("").reduce(function(t,e){return t[e]=!0,t},{});var h=/\/+/;function p(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach(function(t){n[t]=e[t]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function g(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new d(e,n).match(t))}function d(t,e){if(!(this instanceof d))return new d(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==r.sep&&(t=t.split(r.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function _(t,e){if(e||(e=this instanceof d?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:s(t)}g.filter=function(t,e){return e=e||{},function(n,r,i){return g(n,t,e)}},g.defaults=function(t){if(!t||!Object.keys(t).length)return g;var e=g,n=function(n,r,i){return e.minimatch(n,r,p(t,i))};return n.Minimatch=function(n,r){return new e.Minimatch(n,p(t,r))},n},d.defaults=function(t){return t&&Object.keys(t).length?g.defaults(t).Minimatch:d},d.prototype.debug=function(){},d.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(t){return t.split(h)}),this.debug(this.pattern,n),n=n.map(function(t,e,n){return t.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},d.prototype.parseNegate=function(){var t=this.pattern,e=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,s=t.length;i<s&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.substr(r));this.negate=e},g.braceExpand=function(t,e){return _(t,e)},d.prototype.braceExpand=_,d.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return i;if(""===t)return"";var r,s="",l=!!n.nocase,c=!1,h=[],p=[],g=!1,d=-1,_=-1,v="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function w(){if(r){switch(r){case"*":s+=u,l=!0;break;case"?":s+=o,l=!0;break;default:s+="\\"+r}b.debug("clearStateChar %j %j",r,s),r=!1}}for(var y,S=0,I=t.length;S<I&&(y=t.charAt(S));S++)if(this.debug("%s\t%s %s %j",t,S,s,y),c&&f[y])s+="\\"+y,c=!1;else switch(y){case"/":return!1;case"\\":w(),c=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,S,s,y),g){this.debug("  in class"),"!"===y&&S===_+1&&(y="^"),s+=y;continue}b.debug("call clearStateChar %j",r),w(),r=y,n.noext&&w();continue;case"(":if(g){s+="(";continue}if(!r){s+="\\(";continue}h.push({type:r,start:S-1,reStart:s.length,open:a[r].open,close:a[r].close}),s+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,s),r=!1;continue;case")":if(g||!h.length){s+="\\)";continue}w(),l=!0;var M=h.pop();s+=M.close,"!"===M.type&&p.push(M),M.reEnd=s.length;continue;case"|":if(g||!h.length||c){s+="\\|",c=!1;continue}w(),s+="|";continue;case"[":if(w(),g){s+="\\"+y;continue}g=!0,_=S,d=s.length,s+=y;continue;case"]":if(S===_+1||!g){s+="\\"+y,c=!1;continue}if(g){var x=t.substring(_+1,S);try{RegExp("["+x+"]")}catch(t){var O=this.parse(x,m);s=s.substr(0,d)+"\\["+O[0]+"\\]",l=l||O[1],g=!1;continue}}l=!0,g=!1,s+=y;continue;default:w(),c?c=!1:!f[y]||"^"===y&&g||(s+="\\"),s+=y}g&&(x=t.substr(_+1),O=this.parse(x,m),s=s.substr(0,d)+"\\["+O[0],l=l||O[1]);for(M=h.pop();M;M=h.pop()){var j=s.slice(M.reStart+M.open.length);this.debug("setting tail",s,M),j=j.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,n){return n||(n="\\"),e+e+n+"|"}),this.debug("tail=%j\n   %s",j,j,M,s);var E="*"===M.type?u:"?"===M.type?o:"\\"+M.type;l=!0,s=s.slice(0,M.reStart)+E+"\\("+j}w(),c&&(s+="\\\\");var k=!1;switch(s.charAt(0)){case".":case"[":case"(":k=!0}for(var N=p.length-1;N>-1;N--){var A=p[N],R=s.slice(0,A.reStart),L=s.slice(A.reStart,A.reEnd-8),P=s.slice(A.reEnd-8,A.reEnd),T=s.slice(A.reEnd);P+=T;var C=R.split("(").length-1,U=T;for(S=0;S<C;S++)U=U.replace(/\)[+*?]?/,"");var B="";""===(T=U)&&e!==m&&(B="$");var F=R+L+T+B+P;s=F}""!==s&&l&&(s="(?=.)"+s);k&&(s=v+s);if(e===m)return[s,l];if(!l)return t.replace(/\\(.)/g,"$1");var D=n.nocase?"i":"";try{var $=new RegExp("^"+s+"$",D)}catch(t){return new RegExp("$.")}return $._glob=t,$._src=s,$};var m={};g.makeRe=function(t,e){return new d(t,e||{}).makeRe()},d.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?u:e.dot?l:c,r=e.nocase?"i":"",s=t.map(function(t){return t.map(function(t){return t===i?n:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch(t){this.regexp=!1}return this.regexp},g.match=function(t,e,n){var r=new d(e,n=n||{});return t=t.filter(function(t){return r.match(t)}),r.options.nonull&&!t.length&&t.push(e),t},d.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==r.sep&&(t=t.split(r.sep).join("/"));t=t.split(h),this.debug(this.pattern,"split",t);var i,s,a=this.set;for(this.debug(this.pattern,"set",a),s=t.length-1;s>=0&&!(i=t[s]);s--);for(s=0;s<a.length;s++){var o=a[s],u=t;n.matchBase&&1===o.length&&(u=[i]);var l=this.matchOne(u,o,e);if(l)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},d.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,a=0,o=t.length,u=e.length;s<o&&a<u;s++,a++){this.debug("matchOne loop");var l,c=e[a],f=t[s];if(this.debug(e,c,f),!1===c)return!1;if(c===i){this.debug("GLOBSTAR",[e,c,f]);var h=s,p=a+1;if(p===u){for(this.debug("** at the end");s<o;s++)if("."===t[s]||".."===t[s]||!r.dot&&"."===t[s].charAt(0))return!1;return!0}for(;h<o;){var g=t[h];if(this.debug("\nglobstar while",t,h,e,p,g),this.matchOne(t.slice(h),e.slice(p),n))return this.debug("globstar found match!",h,o,g),!0;if("."===g||".."===g||!r.dot&&"."===g.charAt(0)){this.debug("dot detected!",t,h,e,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",t,h,e,p),h!==o))}if("string"==typeof c?(l=r.nocase?f.toLowerCase()===c.toLowerCase():f===c,this.debug("string match",c,f,l)):(l=f.match(c),this.debug("pattern match",c,f,l)),!l)return!1}if(s===o&&a===u)return!0;if(s===o)return n;if(a===u)return s===o-1&&""===t[s];throw new Error("wtf?")}},function(t,e,n){"use strict";(function(e){var r,i=t.exports,s=e,a=(s.$hx_scope=s.$hx_scope||{},function(){return y.__string_rec(this,"")}),o=o||{};function u(t,e){var n=Object.create(t);for(var r in e)n[r]=e[r];return e.toString!==Object.prototype.toString&&(n.toString=e.toString),n}var l=function(t,e){this.r=new RegExp(t,e.split("u").join(""))};l.__name__=!0,l.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&t>=0&&t<this.r.m.length)return this.r.m[t];throw new w("EReg::matched")}};var c=function(){};c.__name__=!0,c.cca=function(t,e){var n=t.charCodeAt(e);if(n==n)return n},c.substr=function(t,e,n){if(null==n)n=t.length;else if(n<0){if(0!=e)return"";n=t.length+n}return t.substr(e,n)},c.remove=function(t,e){var n=t.indexOf(e);return-1!=n&&(t.splice(n,1),!0)},c.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}},Math.__name__=!0;var f=function(){};f.__name__=!0,f.field=function(t,e){try{return t[e]}catch(t){t instanceof w&&t.val;return null}},f.fields=function(t){var e=[];if(null!=t){var n=Object.prototype.hasOwnProperty;for(var r in t)"__id__"!=r&&"hx__closures__"!=r&&n.call(t,r)&&e.push(r)}return e},f.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)};var h=function(){};h.__name__=!0,h.string=function(t){return y.__string_rec(t,"")},h.parseInt=function(t){var e=parseInt(t,!t||"0"!=t[0]||"x"!=t[1]&&"X"!=t[1]?10:16);return isNaN(e)?null:e};var p=function(){this.b=""};p.__name__=!0;var g=function(){};g.__name__=!0,g.startsWith=function(t,e){return t.length>=e.length&&c.substr(t,0,e.length)==e},g.isSpace=function(t,e){var n=c.cca(t,e);return n>8&&n<14||32==n},g.ltrim=function(t){for(var e=t.length,n=0;n<e&&g.isSpace(t,n);)++n;return n>0?c.substr(t,n,e-n):t},g.rtrim=function(t){for(var e=t.length,n=0;n<e&&g.isSpace(t,e-n-1);)++n;return n>0?c.substr(t,0,e-n):t},g.trim=function(t){return g.ltrim(g.rtrim(t))};var d=o["haxe.StackItem"]={__ename__:!0,__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"],CFunction:{_hx_index:0,__enum__:"haxe.StackItem",toString:a},Module:(r=function(t){return{_hx_index:1,m:t,__enum__:"haxe.StackItem",toString:a}},r.__params__=["m"],r),FilePos:(r=function(t,e,n,r){return{_hx_index:2,s:t,file:e,line:n,column:r,__enum__:"haxe.StackItem",toString:a}},r.__params__=["s","file","line","column"],r),Method:(r=function(t,e){return{_hx_index:3,classname:t,method:e,__enum__:"haxe.StackItem",toString:a}},r.__params__=["classname","method"],r),LocalFunction:(r=function(t){return{_hx_index:4,v:t,__enum__:"haxe.StackItem",toString:a}},r.__params__=["v"],r)},_=function(){};_.__name__=!0,_.getStack=function(t){if(null==t)return[];var e=Error.prepareStackTrace;Error.prepareStackTrace=function(t,e){for(var n=[],r=0;r<e.length;){var i=e[r];++r,null!=_.wrapCallSite&&(i=_.wrapCallSite(i));var s=null,a=i.getFunctionName();if(null!=a){var o=a.lastIndexOf(".");if(o>=0){var u=c.substr(a,0,o),l=c.substr(a,o+1,null);s=d.Method(u,l)}}var f=i.getFileName(),h=null==f?-1:f.indexOf("file:");null!=_.wrapCallSite&&h>0&&(f=c.substr(f,h+6,null)),n.push(d.FilePos(s,f,i.getLineNumber(),i.getColumnNumber()))}return n};var n=_.makeStack(t.stack);return Error.prepareStackTrace=e,n},_.callStack=function(){try{throw new Error}catch(e){e instanceof w&&e.val;var t=_.getStack(e);return t.shift(),t}},_.toString=function(t){for(var e=new p,n=0;n<t.length;){var r=t[n];++n,e.b+="\nCalled from ",_.itemToString(e,r)}return e.b},_.itemToString=function(t,e){switch(e._hx_index){case 0:t.b+="a C function";break;case 1:var n=e.m;t.b+="module ",t.b+=null==n?"null":""+n;break;case 2:var r=e.column,i=e.line,s=e.file,a=e.s;null!=a&&(_.itemToString(t,a),t.b+=" ("),t.b+=null==s?"null":""+s,t.b+=" line ",t.b+=null==i?"null":""+i,null!=r&&(t.b+=" column ",t.b+=null==r?"null":""+r),null!=a&&(t.b+=")");break;case 3:var o=e.method,u=e.classname;t.b+=null==u?"null":""+u,t.b+=".",t.b+=null==o?"null":""+o;break;case 4:var l=e.v;t.b+="local function #",t.b+=null==l?"null":""+l}},_.makeStack=function(t){if(null==t)return[];if("string"==typeof t){var e=t.split("\n");"Error"==e[0]&&e.shift();for(var n=[],r=new l("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),i=0;i<e.length;){var s=e[i];if(++i,r.match(s)){var a=r.matched(1).split("."),o=a.pop(),u=r.matched(2),c=h.parseInt(r.matched(3)),f=h.parseInt(r.matched(4));n.push(d.FilePos("Anonymous function"==o?d.LocalFunction():"Global code"==o?null:d.Method(a.join("."),o),u,c,f))}else n.push(d.Module(g.trim(s)))}return n}return t};var m=function(){};m.__name__=!0;var v=function(){};v.__name__=!0,v.on=function(t){return v._handlers.push(t),function(){c.remove(v._handlers,t)}},v.fail=function(t,e){null==t&&(t="Assert.fail"),v.throwError(new b([t],e))},v.throwError=function(t){for(var e=0,n=v._handlers;e<n.length;){var r=n[e];++e,r(t)}if(!t.recovered)throw new w(t)},v.throwAssertionFailureError=function(t,e){v.throwError(new b(t,e))};var b=function(t,e){this.recovered=!1,this._messages=t,this.position=e,this.callstack=_.callStack()};b.__name__=!0,b.prototype={toString:function(){return this._messages.join("\n")},getCallStackText:function(){return null!=this.callstack?_.toString(this.callstack):""},recovery:function(){this.recovered=!0}};var w=function(t){Error.call(this),this.val=t,Error.captureStackTrace&&Error.captureStackTrace(this,w)};w.__name__=!0,w.__super__=Error,w.prototype=u(Error.prototype,{});var y=function(){};y.__name__=!0,y.__string_rec=function(t,e){if(null==t)return"null";if(e.length>=5)return"<...>";var n=typeof t;switch("function"==n&&(t.__name__||t.__ename__)&&(n="object"),n){case"function":return"<function>";case"object":if(t.__enum__){var r=o[t.__enum__],i=r.__constructs__[t._hx_index],s=r[i];if(s.__params__){e+="\t";for(var a=i+"(",u=[],l=0,c=s.__params__;l<c.length;){var f=c[l];++l,u.push(y.__string_rec(t[f],e))}return a+u.join(",")+")"}return i}if(t instanceof Array){var h="[";e+="\t";for(var p=0,g=t.length;p<g;){var d=p++;h+=(d>0?",":"")+y.__string_rec(t[d],e)}return h+="]"}var _;try{_=t.toString}catch(t){t instanceof w&&t.val;return"???"}if(null!=_&&_!=Object.toString&&"function"==typeof _){var m=t.toString();if("[object Object]"!=m)return m}var v=null,b="{\n";e+="\t";var S=null!=t.hasOwnProperty;for(var v in t)S&&!t.hasOwnProperty(v)||"prototype"!=v&&"__class__"!=v&&"__super__"!=v&&"__interfaces__"!=v&&"__properties__"!=v&&(2!=b.length&&(b+=", \n"),b+=e+v+" : "+y.__string_rec(t[v],e));return b+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}};var S=function(){this._events={}};S.__name__=!0,S.prototype={on:function(t,e){return this.addEventListener(t,e)},isListeners:function(t){return!!Object.prototype.hasOwnProperty.call(this._events,t)&&this._events[t].length>0},addEventListener:function(t,e){Object.prototype.hasOwnProperty.call(this._events,t)||(this._events[t]=[]),this._events[t].push(e);var n=E(this,this.removeEventListener),r=t,i=e;return function(){n(r,i)}},once:function(t,e){var n=this,r=function(){var i=arguments;n.removeEventListener(t,r),e.apply(null,i)};return this.addEventListener(t,r)},removeEventListener:function(t,e){if(t in this._events){var n=this._events[t];c.remove(n,e)}},emit:function(t,e,n,r,i){var s=[].slice.call(arguments,1);if(Object.prototype.hasOwnProperty.call(this._events,t))for(var a=this._events[t].slice(0),o=0;o<a.length;){var u=a[o];++o,u.apply(null,s)}},dispose:function(){this._events={}}};var I=i.Metapage=function(t){this._inputMap={},this._cachedInputLookupMap={},this.debug=!1,this._iframes={},this._inputsState={},S.call(this),this._id=null!=t&&null!=t.id?t.id:x.generateMetapageId(),this.debug=x.getUrlParamDEBUG(),this._consoleBackgroundColor=null!=t&&null!=t.color?t.color:I.CONSOLE_BACKGROUND_COLOR_DEFAULT,window.addEventListener("message",E(this,this.onMessage)),this.log("Initialized",null,null,{fileName:"src/haxe/js/metapage/client/Metapage.hx",lineNumber:59,className:"js.metapage.client.Metapage",methodName:"new"})};I.__name__=!0,I.from=function(t,e){if(null==t)throw new w("Metapage definition cannot be null");if("string"==typeof t)try{t=JSON.parse(t)}catch(e){e instanceof w&&e.val;throw new w("Cannot parse into JSON:\n"+h.string(t))}switch(x.getMatchingVersion(t.version)){case"0.0.1":return I.fromDefinitionV0_0_1(t);case"0.1.0":return I.fromDefinitionV0_1_0(t,e);case"0.2":return I.fromDefinitionV0_2(t,e);default:throw new w("Unknown metapage version: "+h.string(t.version))}},I.getLibraryVersionMatching=function(t){return x.getMatchingVersion(t)},I.fromDefinitionV0_0_1=function(t){var e=new I(t.options);if(null!=t.iframes)for(var n=0,r=f.fields(t.iframes);n<r.length;){var i=r[n];++n;var s=t.iframes[i];e.addMetaframe(s.url,i)}if(null!=t.pipes)for(var a=0,o=t.pipes;a<o.length;){var u=o[a];++a;var l={metaframe:u.target.id,source:u.target.name,target:u.target.name};e.addPipe(u.target.id,l)}return e},I.fromDefinitionV0_1_0=function(t,e){var n=new I(t.options);if(null==e&&(e={}),null!=t.iframes)for(var r=0,i=f.fields(t.iframes);r<i.length;){var s=i[r];++r;var a=t.iframes[s];n.addMetaframe(a.url,s);if(null!=a.inputs)for(var o=0,u=a.inputs;o<u.length;){var l=u[o];++o,n.addPipe(s,l)}}return n},I.fromDefinitionV0_2=function(t,e){var n=new I(t.options);if(null==e&&(e={}),null!=t.metaframes)for(var r=0,i=f.fields(t.metaframes);r<i.length;){var s=i[r];++r;var a=t.metaframes[s];n.addMetaframe(a.url,s);if(null!=a.inputs)for(var o=0,u=a.inputs;o<u.length;){var l=u[o];++o,n.addPipe(s,l)}}return n},I.__super__=S,I.prototype=u(S.prototype,{onInputs:function(t){return this.on("inputs",t)},onOutputs:function(t){return this.on("outputs",t)},addPipe:function(t,e){Object.prototype.hasOwnProperty.call(this._inputMap,t)||(this._inputMap[t]=[]),this._inputMap[t].push(e)},removeAll:function(){for(var t=0,e=f.fields(this._iframes);t<e.length;){var n=e[t];++t,this._iframes[n].dispose()}this._iframes={},this._cachedInputLookupMap={},this._inputMap={}},metaframes:function(){for(var t={},e=0,n=f.fields(this._iframes);e<n.length;){var r=n[e];++e,t[r]=this._iframes[r]}return t},metaframeIds:function(){for(var t=[],e=0,n=f.fields(this._iframes);e<n.length;){var r=n[e];++e,t.push(r)}return t},iframes:function(){for(var t={},e=0,n=f.fields(this._iframes);e<n.length;){var r=n[e];++e,t[r]=this._iframes[r].iframe}return t},get:function(t){return this._iframes[t]},addMetaframe:function(t,e){if(null!=e&&Object.prototype.hasOwnProperty.call(this._iframes,e))throw new w("Existing metaframe for id="+e);e=null!=e?e:x.generateMetaframeId();var n=new M(t,e,this._id,this._consoleBackgroundColor,this.debug);return n._metapage=this,this._iframes[e]=n,n},setInput:function(t,e,n){if("object"==typeof t){if(null!=e||null!=n)throw new w("bad arguments, see API docs");for(var r=t,i=0,s=f.fields(r);i<s.length;){var a=s[i];++i;var o=a,u=f.field(r,o);if("object"!=typeof u)throw new w("bad arguments, see API docs");var l=this._iframes[o];null!=l?l.setInputs(u):this.logInternal("No iframe id="+o,"f00",this._consoleBackgroundColor,{fileName:"src/haxe/js/metapage/client/Metapage.hx",lineNumber:158,className:"js.metapage.client.Metapage",methodName:"setInput"})}}else{if("string"!=typeof t)throw new w("bad arguments, see API docs");var c=this._iframes[t];if(null==c&&this.logInternal("No iframe id="+h.string(t),"f00",this._consoleBackgroundColor,{fileName:"src/haxe/js/metapage/client/Metapage.hx",lineNumber:164,className:"js.metapage.client.Metapage",methodName:"setInput"}),"string"==typeof e)c.setInput(e,n);else{if("object"!=typeof e)throw new w("bad arguments, see API docs");c.setInputs(e)}}if("object"==typeof t){if(null!=e||null!=n)throw new w("bad arguments");for(var p=t,g=0,d=f.fields(p);g<d.length;){var _=d[g];++g;var m=_;this._inputsState[m]=null!=this._inputsState[m]?this._inputsState[m]:{};var v=f.field(p,m);if("object"!=typeof v)throw new w("bad arguments, see API docs");for(var b=0,y=f.fields(v);b<y.length;){var S=y[b];++b;var I=S;this._inputsState[m][I]=f.field(v,S)}}}else{if("string"!=typeof t)throw new w("bad arguments");if(this._inputsState[t]=null!=this._inputsState[t]?this._inputsState[t]:{},"string"==typeof e)this._inputsState[t][e]=n;else{if("object"!=typeof e)throw new w("bad arguments");for(var M=0,x=f.fields(e);M<x.length;){var O=x[M];++M,this._inputsState[t][O]=f.field(O,O)}}}},setInputs:function(t,e,n){this.setInputs(t,e,n)},dispose:function(){S.prototype.dispose.call(this),window.removeEventListener("message",E(this,this.onMessage));for(var t=0,e=f.fields(this._iframes);t<e.length;){var n=e[t];++t,this._iframes[n].dispose()}this._iframes=null,this._cachedInputLookupMap=null,this._inputMap=null},log:function(t,e,n,r){this.debug&&this.logInternal(t,e,n,r)},error:function(t,e){this.logInternal(t,"f00",this._consoleBackgroundColor,e)},getInputsFromOutput:function(t,e){if(Object.prototype.hasOwnProperty.call(this._cachedInputLookupMap,t)||(this._cachedInputLookupMap[t]={}),!Object.prototype.hasOwnProperty.call(this._cachedInputLookupMap[t],e)){var n=[];this._cachedInputLookupMap[t][e]=n;for(var r=0,i=f.fields(this._inputMap);r<i.length;){var s=i[r];if(++r,s!=t)for(var a=0,o=this._inputMap[s];a<o.length;){var u=o[a];if(++a,u.metaframe==t&&I.minimatch(e,u.source)){var l=u.target;(null==u.target||g.startsWith(u.target,"*")||""==u.target)&&(l=e),n.push({metaframe:s,pipe:l})}}}}return this._cachedInputLookupMap[t][e]},isValidJsonRpcMessage:function(t){if("2.0"!=t.jsonrpc)return this.logInternal("message.jsonrpc != '2.0'","f00",this._consoleBackgroundColor,{fileName:"src/haxe/js/metapage/client/Metapage.hx",lineNumber:280,className:"js.metapage.client.Metapage",methodName:"isValidJsonRpcMessage"}),!1;if("SetupIframeClientRequest"==t.method)return!0;var e=t.iframeId;return t.parentId==this._id&&Object.prototype.hasOwnProperty.call(this._iframes,e)||this.logInternal("message.parentId="+t.parentId+" _id="+this._id+" message.iframeId="+e+" _iframes.exists(message.iframeId)="+h.string(Object.prototype.hasOwnProperty.call(this._iframes,e))+" message="+c.substr(JSON.stringify(t),0,200),"f00",this._consoleBackgroundColor,{fileName:"src/haxe/js/metapage/client/Metapage.hx",lineNumber:292,className:"js.metapage.client.Metapage",methodName:"isValidJsonRpcMessage"}),t.parentId==this._id&&Object.prototype.hasOwnProperty.call(this._iframes,e)},setInputCache:function(t,e,n){if("object"==typeof t){if(null!=e||null!=n)throw new w("bad arguments");for(var r=t,i=0,s=f.fields(r);i<s.length;){var a=s[i];++i;var o=a;this._inputsState[o]=null!=this._inputsState[o]?this._inputsState[o]:{};var u=f.field(r,o);if("object"!=typeof u)throw new w("bad arguments, see API docs");for(var l=0,c=f.fields(u);l<c.length;){var h=c[l];++l;var p=h;this._inputsState[o][p]=f.field(u,h)}}}else{if("string"!=typeof t)throw new w("bad arguments");if(this._inputsState[t]=null!=this._inputsState[t]?this._inputsState[t]:{},"string"==typeof e)this._inputsState[t][e]=n;else{if("object"!=typeof e)throw new w("bad arguments");for(var g=0,d=f.fields(e);g<d.length;){var _=d[g];++g,this._inputsState[t][_]=f.field(_,_)}}}},onMessage:function(t){if("object"==typeof t.data){var e=t.data;if(!this.isValidJsonRpcMessage(e))return void this.log("invalid message "+c.substr(JSON.stringify(e),0,200),null,null,{fileName:"src/haxe/js/metapage/client/Metapage.hx",lineNumber:340,className:"js.metapage.client.Metapage",methodName:"onMessage"});t.origin,t.source;switch(e.method){case"InputsUpdate":var n=e.iframeId,r=e.params;switch(this._iframes[n].version){case"0.0.1":case"0.1.0":if(this._iframes[n].emit("inputs",r),this.isListeners("inputs")){var i={};i[n]=r,this.emit("inputs",i)}break;case"0.2":this._iframes[n].setInputs(r)}var s=n,a=r;if("object"==typeof s){if(null!=a)throw new w("bad arguments");for(var o=s,u=0,l=f.fields(o);u<l.length;){var h=l[u];++u;var p=h;this._inputsState[p]=null!=this._inputsState[p]?this._inputsState[p]:{};var g=f.field(o,p);if("object"!=typeof g)throw new w("bad arguments, see API docs");for(var d=0,_=f.fields(g);d<_.length;){var m=_[d];++d;var v=m;this._inputsState[p][v]=f.field(g,m)}}}else{if("string"!=typeof s)throw new w("bad arguments");if(this._inputsState[s]=null!=this._inputsState[s]?this._inputsState[s]:{},"string"==typeof a)this._inputsState[s][a]=null;else{if("object"!=typeof a)throw new w("bad arguments");for(var b=0,y=f.fields(a);b<y.length;){var S=y[b];++b,this._inputsState[s][S]=f.field(S,S)}}}break;case"OutputsUpdate":var I=e.iframeId,M=e.params,x=this._iframes[I];if(null!=x){x.setOutputs(M);for(var O=0,j=f.fields(M);O<j.length;){var E=j[O];++O;var k=this.getInputsFromOutput(I,E);if(k.length>0)for(var N=0;N<k.length;){var A=k[N];++N;var R={};R[A.pipe]=M[E],this._iframes[A.metaframe].setInputs(R);var L=A.metaframe,P=A.pipe,T=M[E];if("object"==typeof L){if(null!=P||null!=T)throw new w("bad arguments");for(var C=L,U=0,B=f.fields(C);U<B.length;){var F=B[U];++U;var D=F;this._inputsState[D]=null!=this._inputsState[D]?this._inputsState[D]:{};var $=f.field(C,D);if("object"!=typeof $)throw new w("bad arguments, see API docs");for(var J=0,V=f.fields($);J<V.length;){var G=V[J];++J;var z=G;this._inputsState[D][z]=f.field($,G)}}}else{if("string"!=typeof L)throw new w("bad arguments");if(this._inputsState[L]=null!=this._inputsState[L]?this._inputsState[L]:{},"string"==typeof P)this._inputsState[L][P]=T;else{if("object"!=typeof P)throw new w("bad arguments");for(var W=0,q=f.fields(P);W<q.length;){var K=q[W];++W,this._inputsState[L][K]=f.field(K,K)}}}}}}else this.logInternal("missing iframe="+I,"f00",this._consoleBackgroundColor,{fileName:"src/haxe/js/metapage/client/Metapage.hx",lineNumber:394,className:"js.metapage.client.Metapage",methodName:"onMessage"});break;case"SetupIframeClientRequest":for(var Z=0,H=f.fields(this._iframes);Z<H.length;){var X=H[Z];++Z,this._iframes[X].register()}break;case"SetupIframeServerResponseAck":var Y=e.params;this._iframes[e.iframeId].registered(Y.version)}this.emit("Message",e)}},logInternal:function(t,e,n,r){var i;switch(n=null!=n?n:this._consoleBackgroundColor,typeof t){case"number":i=h.string(t)+"";break;case"string":i=t;break;default:i=JSON.stringify(t)}var s,a=i=null!=this._id?"Metapage["+this._id+"] "+i:i,o=e;switch(null!=(o=null!=o?o:"000")&&""==g.trim(o)&&(o=null),typeof a){case"number":s=h.string(a)+"";break;case"string":s=a;break;default:s=JSON.stringify(a)}if(null!=o&&""!=g.trim(o)){var u="color: #"+o;null!=n&&(u=u+"; background: #"+n),s="%c"+s,window.console.log(s,u)}else window.console.log(s)}});var M=function(t,e,n,r,i){if(null==i&&(i=!1),this._cachedEventOutputsUpdate={iframeId:null,inputs:null},this._cachedEventInputsUpdate={iframeId:null,inputs:null},this._sendInputsAfterRegistration=!1,this._onLoaded=[],this._loaded=!1,this._rpcListeners=[],this._disposables=[],this._outputs={},this._inputs={},S.call(this),!g.startsWith(t,"http")){for(;g.startsWith(t,"/");)t=c.substr(t,1,null);var s=window.location;t=s.protocol+"//"+s.hostname+(null!=s.port&&""!=s.port?":"+s.port:"")+"/"+t}this._origin=t;var a=new URL(t);a.searchParams.set(x.URL_PARAM_METAFRAME_ID,e),i&&a.searchParams.set(x.URL_PARAM_DEBUG,"1"),t=a.href,this.id=e,this.iframe=window.document.createElement("iframe"),this.iframe.src=t,this._debug=i,this._parentId=n;for(var o=this.id,u=0,l=0,f=o.length;l<f;){var p=l++;u=c.cca(o,p)+((u<<5)-u)}var d=(16777215&u).toString(16).toUpperCase();this._color="00000".substring(0,6-d.length)+h.string(d),this._consoleBackgroundColor=r};M.__name__=!0,M.__super__=S,M.prototype=u(S.prototype,{setInput:function(t,e){var n={};n[t]=e,this.setInputs(n)},setInputs:function(t){if(x.merge(this._inputs,t)){if(this._loaded||(this._sendInputsAfterRegistration=!0),null!=this.iframe.parentNode&&this._loaded&&this.sendInputs(t),this.emit("inputs",this._inputs),this._metapage.isListeners("inputs")){var e={};e[this.id]=t,this._metapage.emit("inputs",e)}this._cachedEventInputsUpdate.iframeId=this.id,this._cachedEventInputsUpdate.inputs=this._inputs,this._metapage.emit("InputsUpdate",this._cachedEventInputsUpdate)}},setOutput:function(t,e){var n={};n[t]=e,this.setOutputs(n)},setOutputs:function(t){if(x.merge(this._outputs,t)){this.emit("outputs",t);for(var e=0,n=f.fields(t);e<n.length;){var r=n[e];++e,this.log("output ["+r+"]",{fileName:"src/haxe/js/metapage/client/Metapage.hx",lineNumber:620,className:"js.metapage.client.IFrameRpcClient",methodName:"setOutputs"})}if(this._metapage.isListeners("outputs")){var i={};i[this.id]=this._outputs,this._metapage.emit("outputs",i)}}},onInputs:function(t){return this.on("inputs",t)},onInput:function(t,e){return this.on("inputs",function(n){Object.prototype.hasOwnProperty.call(n,t)&&e(n[t])})},onOutputs:function(t){return this.on("outputs",t)},onOutput:function(t,e){return this.on("outputs",function(n){Object.prototype.hasOwnProperty.call(n,t)&&e(n[t])})},dispose:function(){for(S.prototype.dispose.call(this);null!=this._disposables&&this._disposables.length>0;)this._disposables.pop()();this._rpcListeners=null,this._inputs=null,this._outputs=null,this._ready=null,null!=this.iframe&&null!=this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,this._bufferMessages=null,null!=this._bufferTimeout&&(window.clearInterval(this._bufferTimeout),this._bufferTimeout=null)},register:function(){if(!this._loaded){var t={iframeId:this.id,parentId:this._parentId,state:{inputs:this._inputs},version:"0.2"};this.sendRpcInternal("SetupIframeServerResponse",t)}},registered:function(t){if(!this._loaded){for(this.version=t,null==this.version&&(this.version="0.1.0"),this._loaded=!0;null!=this._onLoaded&&this._onLoaded.length>0;)this._onLoaded.pop()();this._sendInputsAfterRegistration&&this.sendInputs(this._inputs)}},sendInputs:function(t){this.sendRpc("InputsUpdate",{inputs:t,parentId:this._parentId})},sendRpc:function(t,e){var n=this;if(null!=this.iframe.parentNode&&this._loaded)this.sendRpcInternal(t,e);else{var r=this._metapage;r.logInternal("sending rpc later","f00",r._consoleBackgroundColor,{fileName:"src/haxe/js/metapage/client/Metapage.hx",lineNumber:734,className:"js.metapage.client.IFrameRpcClient",methodName:"sendRpc"}),this._onLoaded.push(function(){n.sendRpcInternal(t,e)})}},log:function(t,e){this._debug&&this.logInternal(t,e)},logInternal:function(t,e){var n;switch(typeof t){case"number":n=h.string(t)+"";break;case"string":n=t;break;default:n=JSON.stringify(t)}var r,i="Metapage["+this._parentId+"] Metaframe["+this.id+"] "+n,s=this._color,a=this._consoleBackgroundColor;switch(null!=(s=null!=s?s:"000")&&""==g.trim(s)&&(s=null),typeof i){case"number":r=h.string(i)+"";break;case"string":r=i;break;default:r=JSON.stringify(i)}if(null!=s&&""!=g.trim(s)){var o="color: #"+s;null!=a&&(o=o+"; background: #"+a),r="%c"+r,window.console.log(r,o)}else window.console.log(r)},sendRpcInternal:function(t,e){var n={method:t,params:e,jsonrpc:"2.0",parentId:this._parentId,iframeId:this.id};if(null!=this.iframe)this.sendOrBufferPostMessage(n);else{var r=this._metapage;r.logInternal("Cannot send to child iframe messageJson="+c.substr(JSON.stringify(n),0,200),"f00",r._consoleBackgroundColor,{fileName:"src/haxe/js/metapage/client/Metapage.hx",lineNumber:772,className:"js.metapage.client.IFrameRpcClient",methodName:"sendRpcInternal"})}},sendOrBufferPostMessage:function(t){var e=this;null!=this.iframe.contentWindow?this.iframe.contentWindow.postMessage(t,this._origin):null==this._bufferMessages?(this._bufferMessages=[t],this._bufferTimeout=window.setInterval(function(){if(null!=e.iframe.contentWindow){for(var t=0,n=e._bufferMessages;t<n.length;){var r=n[t];++t,e.iframe.contentWindow.postMessage(r,e._origin)}window.clearInterval(e._bufferTimeout),e._bufferTimeout=null,e._bufferMessages=null}},0)):this._bufferMessages.push(t)}});var x=function(){};x.__name__=!0,x.merge=function(t,e){if(null==e)return!1;for(var n=!1,r=0,i=f.fields(e);r<i.length;){var s=i[r];++r,n=!0,void 0===e[s]?f.deleteField(t,s):t[s]=e[s]}return n},x.getMatchingVersion=function(t){return O(t,"0.0.x")<=0?"0.0.1":O(t,"0.1.36")<=0?"0.1.0":O(t,"0.2")>=0?"0.2":(window.console.log("Could not match version="+t+" to any known version, assuming 0.2"),"0.2")},x.getUrlParam=function(t){return new URLSearchParams(window.location.search).get(t)},x.getUrlParamDEBUG=function(){return new URLSearchParams(window.location.search).has(x.URL_PARAM_DEBUG)},x.getUrlParamMF_ID=function(){return new URLSearchParams(window.location.search).get(x.URL_PARAM_METAFRAME_ID)},x.generateMetaframeId=function(t){return null==t&&(t=8),x.generateId(8)},x.generateMetapageId=function(t){return null==t&&(t=8),x.generateId(8)},x.generateId=function(t){null==t&&(t=8);for(var e="";t>0;)e+=h.string(x.LETTERS.charAt(0|Math.max(0,Math.random()*x.LETTERS.length-1))),--t;return e},x.log=function(t,e,n){var r;switch(null!=(e=null!=e?e:"000")&&""==g.trim(e)&&(e=null),typeof t){case"number":r=h.string(t)+"";break;case"string":r=t;break;default:r=JSON.stringify(t)}if(null!=e&&""!=g.trim(e)){var i="color: #"+e;null!=n&&(i=i+"; background: #"+n),r="%c"+r,window.console.log(r,i)}else window.console.log(r)},x.stringToRgb=function(t){for(var e=0,n=0,r=t.length;n<r;){var i=n++;e=c.cca(t,i)+((e<<5)-e)}var s=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-s.length)+h.string(s)},x.hashCode=function(t){for(var e=0,n=0,r=t.length;n<r;){var i=n++;e=c.cca(t,i)+((e<<5)-e)}return e},x.intToRGB=function(t){var e=(16777215&t).toString(16).toUpperCase();return"00000".substring(0,6-e.length)+h.string(e)};var O=n(3),j=0;function E(t,e){return null==e?null:(null==e.__id__&&(e.__id__=j++),null==t.hx__closures__?t.hx__closures__={}:n=t.hx__closures__[e.__id__],null==n&&(n=e.bind(t),t.hx__closures__[e.__id__]=n),n);var n}String.__name__=!0,Array.__name__=!0,Object.defineProperty(w.prototype,"message",{get:function(){return String(this.val)}}),y.__toStr={}.toString,m.JSONRPC_VERSION_2="2.0",m.MULTIPART_JSONRPC_KEY="jsonrpc",m.JSONRPC_NULL_ID="_",v._handlers=[],I.version="0.2",I.INPUTS="inputs",I.OUTPUTS="outputs",I.minimatch=n(0),I.CONSOLE_BACKGROUND_COLOR_DEFAULT="bcbcbc",x.URL_PARAM_DEBUG="MP_DEBUG",x.URL_PARAM_METAFRAME_ID="MF_ID",x.minimatch=n(0),x.LETTERS="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_"}).call(this,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r,i,s;i=[],void 0===(s="function"==typeof(r=function(){var t=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function e(t){var e,n,r=t.replace(/^v/,"").replace(/\+.*$/,""),i=(n="-",-1===(e=r).indexOf(n)?e.length:e.indexOf(n)),s=r.substring(0,i).split(".");return s.push(r.substring(i+1)),s}function n(t){return isNaN(Number(t))?t:Number(t)}function r(e){if("string"!=typeof e)throw new TypeError("Invalid argument expected string");if(!t.test(e))throw new Error("Invalid argument not valid semver ('"+e+"' received)")}return function(t,i){[t,i].forEach(r);for(var s=e(t),a=e(i),o=0;o<Math.max(s.length-1,a.length-1);o++){var u=parseInt(s[o]||0,10),l=parseInt(a[o]||0,10);if(u>l)return 1;if(l>u)return-1}var c=s[s.length-1],f=a[a.length-1];if(c&&f){var h=c.split(".").map(n),p=f.split(".").map(n);for(o=0;o<Math.max(h.length,p.length);o++){if(void 0===h[o]||"string"==typeof p[o]&&"number"==typeof h[o])return-1;if(void 0===p[o]||"string"==typeof h[o]&&"number"==typeof p[o])return 1;if(h[o]>p[o])return 1;if(p[o]>h[o])return-1}}else if(c||f)return c?-1:1;return 0}})?r.apply(e,i):r)||(t.exports=s)},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return r.exec(t).slice(1)};function s(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return(r?"/":"")+(e=n(s(e.split("/"),function(t){return!!t}),!r).join("/"))||"."},e.normalize=function(t){var r=e.isAbsolute(t),i="/"===a(t,-1);return(t=n(s(t.split("/"),function(t){return!!t}),!r).join("/"))||r||(t="."),t&&i&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(s(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),s=r(n.split("/")),a=Math.min(i.length,s.length),o=a,u=0;u<a;u++)if(i[u]!==s[u]){o=u;break}var l=[];for(u=o;u<i.length;u++)l.push("..");return(l=l.concat(s.slice(o))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(5))},function(t,e){var n,r,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&p())}function p(){if(!c){var t=o(h);c=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function d(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new g(t,e)),1!==l.length||c||o(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){var r=n(7),i=n(8);t.exports=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return function t(e,n){var s=[];var a=i("{","}",e);if(!a||/\$$/.test(a.pre))return[e];var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(a.body);var l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(a.body);var f=u||l;var _=a.body.indexOf(",")>=0;if(!f&&!_)return a.post.match(/,.*\}/)?(e=a.pre+"{"+a.body+o+a.post,t(e)):[e];var m;if(f)m=a.body.split(/\.\./);else if(1===(m=function t(e){if(!e)return[""];var n=[];var r=i("{","}",e);if(!r)return e.split(",");var s=r.pre;var a=r.body;var o=r.post;var u=s.split(",");u[u.length-1]+="{"+a+"}";var l=t(o);o.length&&(u[u.length-1]+=l.shift(),u.push.apply(u,l));n.push.apply(n,u);return n}(a.body)).length&&1===(m=t(m[0],!1).map(h)).length){var v=a.post.length?t(a.post,!1):[""];return v.map(function(t){return a.pre+m[0]+t})}var b=a.pre;var v=a.post.length?t(a.post,!1):[""];var w;if(f){var y=c(m[0]),S=c(m[1]),I=Math.max(m[0].length,m[1].length),M=3==m.length?Math.abs(c(m[2])):1,x=g,O=S<y;O&&(M*=-1,x=d);var j=m.some(p);w=[];for(var E=y;x(E,S);E+=M){var k;if(l)"\\"===(k=String.fromCharCode(E))&&(k="");else if(k=String(E),j){var N=I-k.length;if(N>0){var A=new Array(N+1).join("0");k=E<0?"-"+A+k.slice(1):A+k}}w.push(k)}}else w=r(m,function(e){return t(e,!1)});for(var R=0;R<w.length;R++)for(var L=0;L<v.length;L++){var P=b+w[R]+v[L];(!n||f||P)&&s.push(P)}return s}(function(t){return t.split("\\\\").join(s).split("\\{").join(a).split("\\}").join(o).split("\\,").join(u).split("\\.").join(l)}(t),!0).map(f)};var s="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",o="\0CLOSE"+Math.random()+"\0",u="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function c(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function f(t){return t.split(s).join("\\").split(a).join("{").split(o).join("}").split(u).join(",").split(l).join(".")}function h(t){return"{"+t+"}"}function p(t){return/^-?0\d/.test(t)}function g(t,e){return t<=e}function d(t,e){return t>=e}},function(t,e){t.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var s=e(t[i],i);n(s)?r.push.apply(r,s):r.push(s)}return r};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t,e,n){t instanceof RegExp&&(t=i(t,n)),e instanceof RegExp&&(e=i(e,n));var r=s(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function i(t,e){var n=e.match(t);return n?n[0]:null}function s(t,e,n){var r,i,s,a,o,u=n.indexOf(t),l=n.indexOf(e,u+1),c=u;if(u>=0&&l>0){for(r=[],s=n.length;c>=0&&!o;)c==u?(r.push(c),u=n.indexOf(t,c+1)):1==r.length?o=[r.pop(),l]:((i=r.pop())<s&&(s=i,a=l),l=n.indexOf(e,c+1)),c=u<l&&u>=0?u:l;r.length&&(o=[s,a])}return o}t.exports=r,r.range=s}]));